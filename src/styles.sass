@use "sass:color"

// Core Values
$gap: 1rem
$padding: 1.5rem
$radius: 0.5rem
$font: 0.875rem
$spacing: 2rem
$min-height: 2.5rem

// Breakpoints
$mobile: 768px
$tablet: 1024px

// Colors - Improved palette with better contrast and harmony
$base: #6366f1
$primary: $base
$secondary: color.adjust($base, $hue: 120deg)
$success: color.adjust($base, $hue: 160deg)
$warning: color.adjust($base, $hue: 45deg)
$error: color.adjust($base, $hue: 0deg)

// CSS Variables - Enhanced with better color mixing
:root
  --bg: #{color.adjust($base, $hue: 45deg, $saturation: -80%, $lightness: 98%)}
  --bg-muted: #{color.adjust($base, $hue: 45deg, $saturation: -60%, $lightness: 92%)}
  --fg: #{color.adjust($base, $lightness: -85%)}
  --fg-muted: #{color.adjust($base, $lightness: -45%)}
  --primary: #{$primary}
  --secondary: #{$secondary}
  --success: #{$success}
  --warning: #{$warning}
  --error: #{$error}
  --info: #{$secondary}
  --radius: #{$radius}
  --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1)
  --border-muted: #{color.adjust($base, $hue: 45deg, $saturation: -50%, $lightness: 40%, $alpha: 0.4)}
  --border: #{color.adjust($base, $hue: 45deg, $saturation: -40%, $lightness: 80%, $alpha: 0.3)}

.dark
  --bg: #{color.adjust($base, $hue: 25deg, $saturation: -70%, $lightness: -45%)}
  --bg-muted: #{color.adjust($base, $hue: 25deg, $saturation: -50%, $lightness: -35%)}
  --fg: #{color.adjust($base, $lightness: 55%)}
  --fg-muted: #{color.adjust($base, $lightness: 35%)}
  --primary: #{color.adjust($primary, $lightness: 25%)}
  --secondary: #{color.adjust($secondary, $lightness: 25%)}
  --success: #{color.adjust($success, $lightness: 25%)}
  --warning: #{color.adjust($warning, $lightness: 25%)}
  --error: #{color.adjust($error, $lightness: 25%)}
  --info: #{color.adjust($secondary, $lightness: 25%)}
  --border-muted: #{color.adjust($base, $hue: 25deg, $saturation: -40%, $lightness: -30%, $alpha: 0.4)}
  --border: #{color.adjust($base, $hue: 25deg, $saturation: -30%, $lightness: 30%, $alpha: 0.3)}

// Reset & Base
*
  box-sizing: border-box
  margin: 0
  padding: 0

// Remove default borders from all form elements and interactive components
button, input, select, textarea, fieldset, legend, optgroup, option
  border: none
  outline: none
  background: none
  font-family: inherit
  font-size: inherit
  color: inherit

// Remove default button styling
button
  cursor: pointer
  padding: 0
  margin: 0
  border-radius: 0
  background: transparent
  border: none
  font: inherit
  color: inherit
  text-decoration: none
  display: inline-block
  line-height: 1
  text-align: center
  vertical-align: middle
  user-select: none
  -webkit-appearance: none
  -moz-appearance: none
  appearance: none

// Remove default input styling
input, select, textarea
  border: none
  outline: none
  background: transparent
  font: inherit
  color: inherit
  padding: 0
  margin: 0
  border-radius: 0
  -webkit-appearance: none
  -moz-appearance: none
  appearance: none

// Remove default select styling
select
  background-image: none
  -webkit-appearance: none
  -moz-appearance: none
  appearance: none

// Remove default fieldset styling
fieldset
  border: none
  padding: 0
  margin: 0
  min-width: 0

// Remove default legend styling
legend
  border: none
  padding: 0
  margin: 0

// Remove default list styling
ul, ol
  list-style: none
  padding: 0
  margin: 0

// Remove default link styling
a
  color: inherit
  text-decoration: none

// Remove default table styling
table
  border-collapse: collapse
  border-spacing: 0

// Remove default image styling
img
  max-width: 100%
  height: auto
  border: none
  vertical-align: middle

html, body
  overflow: hidden
  max-width: 100vw
  height: 100vh

body
  font-family: 'Baloo 2', sans-serif
  line-height: 1.6
  background: var(--bg)
  color: var(--fg)
  height: 100vh
  max-width: 1200px
  margin: 0 auto
  padding: 0
  overflow: hidden
  display: grid
  grid-template-rows: 5rem calc(100vh - 9rem) 4rem
  grid-template-areas: "header" "content" "footer"

  @media (max-width: $mobile)
    grid-template-rows: 4rem calc(100vh - 7rem) 3rem

// Core Layout Placeholders
%flex
  display: flex
  align-items: center

%flex-between
  @extend %flex
  justify-content: space-between

%flex-wrap
  @extend %flex
  flex-wrap: wrap
  gap: $gap

%grid
  display: grid
  gap: $gap

%transition
  transition: all 0.2s ease

%glass
  backdrop-filter: blur(10px)

%focus
  &:focus
    outline: none
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary) 40%, transparent), 0 4px 20px color-mix(in oklab, var(--primary) 30%, transparent)

// Global Grid Layout Areas
.app-header
  grid-area: header
  height: 5rem
  box-sizing: border-box

  @media (max-width: $mobile)
    height: 4rem

.app-content  
  grid-area: content
  overflow-y: auto
  overflow-x: hidden
  height: calc(100vh - 9rem)
  box-sizing: border-box

  @media (max-width: $mobile)
    height: calc(100vh - 7rem)

.app-footer
  grid-area: footer
  height: 4rem
  box-sizing: border-box

  @media (max-width: $mobile)
    height: 3rem

// Basic Typography
h1, h2, h3, h4, h5, h6
  font-family: 'Bungee', monospace
  line-height: 1.2
  font-weight: 600

h1
  font-size: 2rem
  color: var(--primary)

  @media (max-width: $mobile)
    font-size: 1.5rem

h2
  font-size: 1.5rem
  color: var(--primary)
  margin-bottom: 1rem

  @media (max-width: $mobile)
    font-size: 1.25rem

h3
  font-size: 1.25rem
  color: var(--primary)
  margin-bottom: 1rem

  @media (max-width: $mobile)
    font-size: 1.1rem

h4
  font-size: 1rem
  color: var(--fg)
  margin: 1rem 0 0.5rem

p
  color: var(--fg-muted)
  margin-bottom: 1rem

// Basic Utilities
.text-muted
  color: var(--fg-muted)

.text-error
  color: var(--error)

.text-success
  color: var(--success)

.text-warning
  color: var(--warning)

.mb-0
  margin-bottom: 0

.mt-0
  margin-top: 0

// Basic Button Styles
button
  display: inline-flex
  align-items: center
  gap: 0.5rem
  padding: 0.75rem 1rem
  border-radius: var(--radius)
  font-size: $font
  font-weight: 500
  cursor: pointer
  transition: all 0.2s ease
  min-height: $min-height
  white-space: nowrap

  &:disabled
    opacity: 0.5
    cursor: not-allowed

.primary
  background: var(--primary)
  color: white

  &:hover:not(:disabled)
    background: color-mix(in oklab, var(--primary) 90%, black)

.secondary
  background: color-mix(in oklab, var(--secondary) 10%, transparent)
  color: var(--fg)
  border: 1px solid var(--border-muted)

  &:hover:not(:disabled)
    background: color-mix(in oklab, var(--secondary) 20%, transparent)

.danger
  background: var(--error)
  color: white

  &:hover:not(:disabled)
    background: color-mix(in oklab, var(--error) 90%, black)

// Basic Form Element Styles
input, select, textarea
  padding: 0.75rem
  border: 1px solid var(--border-muted)
  border-radius: var(--radius)
  background: color-mix(in oklab, var(--secondary) 8%, transparent)
  color: var(--fg)
  font-size: $font
  min-height: $min-height
  transition: all 0.2s ease

  &:focus
    outline: none
    border-color: var(--primary)
    background: color-mix(in oklab, var(--primary) 15%, transparent)

  &::placeholder
    color: var(--fg-muted)
    opacity: 0.7

// Basic Table Styles
table
  width: 100%
  background: color-mix(in oklab, var(--primary) 6%, transparent)
  border-radius: 1rem
  overflow: hidden
  border: 1px solid var(--border-muted)

  th, td
    padding: 0.75rem 1rem
    text-align: left
    border-bottom: 1px solid var(--border-muted)

  th
    background: color-mix(in oklab, var(--primary) 12%, transparent)
    font-weight: 600
    color: var(--fg)

  tr:hover
    background: color-mix(in oklab, var(--secondary) 8%, transparent)